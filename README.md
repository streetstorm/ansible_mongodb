Конечный результат содержит:
1) terraform.tf для создания 3х машин в yandex cloud
2) main.yml основной плейбук, который с помощью вложенных ролей запустит:
- UFW с необходимыми правилами для доступа к машинам по ssh и открытый порт 27017 для локальных ip адрессов
- Роль prepare-hosts создаст hosts файл по шаблону, необходимый для дальнейшей работы, и установит mongodb
- Роль mongodb запустит сервис на основе mongodb.conf, который создан на основе шаблона
- Роль replica-set создаст replica set используя js файл
